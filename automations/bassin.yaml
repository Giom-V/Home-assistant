- id: "1679262865155"
  alias: Turn on the pond's pump during off-peak hours
  description: ""
  triggers:
    - entity_id:
        - binary_sensor.heure_creuse
      to: "on"
      trigger: state
  conditions:
    - condition: numeric_state
      entity_id: sensor.module_exterieur_netatmo_temperature
      above: 0
  actions:
  - service: switch.turn_on
    target:
      entity_id: switch.fontaine_bassin
  mode: single
- id: "1679262911117"
  alias: Turn off the pond's pump during peak hours
  description: ""
  trigger:
    - platform: state
      entity_id:
        - binary_sensor.heure_creuse
      to: "off"
    - platform: time
      at: "14:00:00"
  condition:
    - condition: state
      entity_id: binary_sensor.heure_creuse
      state: "off"
  action:
  - service: switch.turn_off
    target:
      entity_id: switch.fontaine_bassin
  mode: single
- id: "1685014375600"
  alias: Turn on pond's pump when we are here during lunch time
  description: ""
  trigger:
    - platform: time
      at: "12:00:00"
  condition:
    - condition: or
      conditions:
        - condition: state
          entity_id: input_boolean.visitors
          state: "on"
        - condition: state
          entity_id: binary_sensor.people_home
          state: "on"
  action:
  - service: switch.turn_on
    target:
      entity_id: switch.pompe_switch
  mode: single
- id: "1713465676198"
  alias: Turn on water pump for 5mn to scare animals
  description: ""
  trigger:
    - type: turned_on
      platform: device
      device_id: 57baf06b6e5d461829e557034a4f91e9
      entity_id: 3190902f15a62a454819df62970f1adb
      domain: binary_sensor
      for:
        hours: 0
        minutes: 0
        seconds: 10
  condition:
    - condition: not
      conditions:
        - condition: state
          entity_id: sensor.rte_tempo_couleur_actuelle
          state: Rouge
    - type: is_off
      condition: device
      device_id: 57baf06b6e5d461829e557034a4f91e9
      entity_id: 6228501c1464ed300a010500d31ecdd3
      domain: binary_sensor
  action:
    - service: switch.turn_on
      target:
        entity_id: switch.fontaine_bassin
    - delay:
        hours: 0
        minutes: 5
        seconds: 0
        milliseconds: 0
    - if:
        - condition: state
          entity_id: binary_sensor.heure_creuse
          state: "off"
      then:
        - service: switch.turn_off
          target:
            entity_id: switch.fontaine_bassin
  mode: restart
- id: "1736867866654"
  alias: Turn off water pump when it's freezing
  description: ""
  triggers:
    - trigger: numeric_state
      entity_id:
        - sensor.module_exterieur_netatmo_temperature
      for:
        hours: 0
        minutes: 5
        seconds: 0
      below: 0
  conditions: []
  actions:
  - action: switch.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: switch.fontaine_bassin
  mode: single
