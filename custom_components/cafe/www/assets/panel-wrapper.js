var d=Object.defineProperty;var o=(t,e,s)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var i=(t,e,s)=>o(t,typeof e!="symbol"?e+"":e,s);class m extends HTMLElement{constructor(){super(...arguments);i(this,"_messageHandler");i(this,"iframe",null);i(this,"_hass")}set hass(s){this._hass=s,window.hass=s}get hass(){return this._hass}connectedCallback(){var h,r;this.style.display="block",this.style.width="100%",this.style.height="100%",this.style.position="relative";const n=((r=(h=this._hass)==null?void 0:h.themes)==null?void 0:r.darkMode)??!1?"hsl(222.2, 84%, 4.9%)":"hsl(0, 0%, 100%)";this.iframe=document.createElement("iframe"),this.iframe.src="/cafe-hass/index.html",this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.border="none",this.iframe.style.display="block",this.iframe.style.background=n,this.iframe.setAttribute("allow","clipboard-read *; clipboard-write *"),this.appendChild(this.iframe),this._messageHandler=a=>{var l;a.source===((l=this.iframe)==null?void 0:l.contentWindow)&&a.data&&a.data.type==="CAFE_TOGGLE_SIDEBAR"&&this.dispatchEvent(new Event("hass-toggle-menu",{bubbles:!0,composed:!0}))},window.addEventListener("message",this._messageHandler)}disconnectedCallback(){this.iframe&&(this.removeChild(this.iframe),this.iframe=null),window.hass=void 0,this._messageHandler&&(window.removeEventListener("message",this._messageHandler),this._messageHandler=void 0)}}customElements.get("cafe-panel")||customElements.define("cafe-panel",m);
//# sourceMappingURL=panel-wrapper.js.map
