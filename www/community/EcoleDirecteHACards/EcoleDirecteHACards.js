var e,t,n,i,a,r,o,s,l,d,c,u,h,p,f,g,v,y,_,m,b,w,k,x,A,D,E,$,C,S,F,O,j,R,P,H,M,T,N,L,z,I,V,q,U,B,G,W,Y,Z,X,J,K,Q,ee,te,ne,ie,ae,re,oe,se,le,de,ce,ue,he,pe,fe,ge,ve,ye,_e,me,be,we,ke,xe,Ae,De,Ee,$e,Ce,Se,Fe,Oe,je,Re,Pe;function He(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function r(n,i,a,r){var l=i&&i.prototype instanceof s?i:s,d=Object.create(l.prototype);return Me(d,"_invoke",function(n,i,a){var r,s,l,d=0,c=a||[],u=!1,h={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return r=t,s=0,l=e,h.n=n,o}};function p(n,i){for(s=n,l=i,t=0;!u&&d&&!a&&t<c.length;t++){var a,r=c[t],p=h.p,f=r[2];n>3?(a=f===i)&&(l=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=e):r[0]<=p&&((a=n<2&&p<r[1])?(s=0,h.v=i,h.n=r[1]):p<f&&(a=n<3||r[0]>i||i>f)&&(r[4]=n,r[5]=i,h.n=f,s=0))}if(a||n>1)return o;throw u=!0,i}return function(a,c,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===c&&p(c,f),s=c,l=f;(t=s<2?e:l)||!u;){r||(s?s<3?(s>1&&(h.n=-1),p(s,l)):h.n=l:h.v=l);try{if(d=2,r){if(s||(a="next"),t=r[a]){if(!(t=t.call(r,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=r.return)&&t.call(r),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);r=e}else if((t=(u=h.n<0)?l:n.call(i,h))!==o)break}catch(t){r=e,s=1,l=t}finally{d=1}}return{value:t,done:u}}}(n,a,r),!0),d}var o={};function s(){}function l(){}function d(){}t=Object.getPrototypeOf;var c=[][i]?t(t([][i]())):(Me(t={},i,function(){return this}),t),u=d.prototype=s.prototype=Object.create(c);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,Me(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=d,Me(u,"constructor",d),Me(d,"constructor",l),l.displayName="GeneratorFunction",Me(d,a,"GeneratorFunction"),Me(u),Me(u,a,"Generator"),Me(u,i,function(){return this}),Me(u,"toString",function(){return"[object Generator]"}),(He=function(){return{w:r,m:h}})()}function Me(e,t,n,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Me=function(e,t,n,i){function r(t,n){Me(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(r("next",0),r("throw",1),r("return",2))},Me(e,t,n,i)}function Te(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function Ne(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ue(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r,o,s=[],l=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ie(e,t,n,i){var a=Ve(nt(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof a?function(e){return a.apply(n,e)}:a}function Ve(){return Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=nt(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Ve.apply(null,arguments)}function qe(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return Be(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach(function(t){Ye(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ye(e,t,n){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Qe(i.key),i)}}function Ke(e,t,n){return t&&Je(e.prototype,t),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qe(e){var t=function(e,t){if("object"!=ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ze(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ze(t)?t:t+""}function et(e,t,n){return t=nt(t),function(e,t){if(t&&("object"==ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tt()?Reflect.construct(t,n||[],nt(e).constructor):t.apply(e,n))}function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tt=function(){return!!e})()}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}function it(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}function at(e,t){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},at(e,t)}var rt=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),ot=rt.prototype.html,st=rt.prototype.css,lt=function(){function s(){return Xe(this,s),et(this,s,arguments)}return it(s,rt),Ke(s,[{key:"getCardHeader",value:function(){var n=this.hass.states[this.config.entity].attributes;if(n){var i="string"==typeof n.prenom&&n.prenom.length>0?n.prenom:n.nom_complet;return ot(e||(e=Ze(['<div class="ed-card-header">\n        '," ","\n      </div>"])),this.header_title,i)}return ot(t||(t=Ze(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>'])))}},{key:"noDataMessage",value:function(){return ot(n||(n=Ze(['<div class="ed-card-no-data">',"</div>"])),this.no_data_message)}},{key:"render",value:function(){return this.config&&this.hass?this.hass.states[this.config.entity]?(this.initCard(),ot(a||(a=Ze([' <ha-card id="','-card">\n        ',"\n        ","\n      </ha-card>"])),this.config.entity,this.config.display_header?this.getCardHeader():"",this.getCardContent())):ot(r||(r=Ze(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>']))):ot(i||(i=Ze(['<div class="ed-card-no-data">\n        Veuillez configurer la carte\n      </div>'])))}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("Vous devez définir une entité");this.config=We(We({},this.getDefaultConfig()),e)}},{key:"getItems",value:function(){var e=[],t=this.hass.states[this.config.entity];return t&&t.attributes[this.items_attribute_key]&&e.push.apply(e,qe(t.attributes[this.items_attribute_key])),e}}],[{key:"properties",get:function(){return{config:{},hass:{},header_title:{type:String},no_data_message:{type:String}}}},{key:"styles",get:function(){return st(o||(o=Ze(["\n      .ed-card-header {\n        text-align: center;\n      }\n      div {\n        padding: 12px;\n        font-weight: bold;\n        font-size: 1em;\n      }\n      .ed-card-no-data {\n        display: block;\n        padding: 8px;\n        text-align: center;\n        font-style: italic;\n      }\n    "])))}}])}(),dt=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),ct=dt.prototype.html,ut=dt.prototype.css;function ht(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}Date.prototype.getWeekNumber=function(){var e=new Date(+this);return e.setHours(0,0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)};var pt=function(){function e(){var t;Xe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Ye(t=et(this,e,[].concat(i)),"lunchBreakRendered",!1),t}return it(e,lt),Ke(e,[{key:"initCard",value:function(){}},{key:"getBreakRow",value:function(e,t){return ct(s||(s=Ze([' <tr class="lunch-break ','">\n      <td></td>\n      <td><span></span></td>\n      <td colspan="2">\n        <span class="lesson-name">',"</span>\n      </td>\n    </tr>"])),t?"lesson-ended":"",e)}},{key:"getTimetableRow",value:function(e){var t=new Date,n=Date.parse(e.start_at),i=Date.parse(e.end_at),a=ct(l||(l=Ze([""])));this.config.display_lunch_break&&e.is_afternoon&&!this.lunchBreakRendered&&(a=this.getBreakRow("Repas",this.config.dim_ended_lessons&&n<t),this.lunchBreakRendered=!0);var r=ct(d||(d=Ze(['\n      <tr\n        class="'," ",'"\n      >\n        <td>\n          ',"<br />\n          ",'\n        </td>\n        <td>\n          <span style="background-color:','"></span>\n        </td>\n        <td>\n          <span class="lesson-name">',"</span>\n          ","\n          ","\n        </td>\n        <td>\n          ","\n        </td>\n      </tr>\n    "])),e.is_annule?"lesson-canceled":"",this.config.dim_ended_lessons&&i<t?"lesson-ended":"",e.start_time,e.end_time,e.background_color,e.lesson,this.config.display_classroom?ct(c||(c=Ze(['<span class="lesson-classroom">\n                ',"\n                ","\n              </span>"])),e.salle?"Salle "+e.salle:"",e.salle&&this.config.display_teacher?", ":""):"",this.config.display_teacher?ct(u||(u=Ze(['<span class="lesson-teacher"> '," </span>"])),e.prof):"",e.dispense?ct(h||(h=Ze(['<span class="lesson-status">',"</span>"])),e.dispense):"");return ct(p||(p=Ze(["","",""])),a,r)}},{key:"getFormattedDate",value:function(e){return new Date(e.start_at).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getFormattedTime",value:function(e){return new Intl.DateTimeFormat("fr-FR",{hour:"numeric",minute:"numeric"}).format(new Date(e))}},{key:"getDayHeader",value:function(e,t,n,i){var a=this;return ct(f||(f=Ze(['<div class="ed-timetable-header">\n      ','\n      <span class="ed-timetable-header-date"\n        >',"</span\n      >\n      ","\n      ","\n    </div>"])),this.config.enable_slider?ct(g||(g=Ze(['<span\n            class="ed-timetable-header-arrow-left ','"\n            @click=',"\n            >←</span\n          >"])),0===i?"disabled":"",function(e){return a.changeDay("previous",e)}):"",this.getFormattedDate(e),this.config.display_day_hours&&t&&n?ct(v||(v=Ze(['<span class="ed-timetable-header-hours">\n            '," -\n            ","\n          </span>"])),this.getFormattedTime(t),this.getFormattedTime(n)):"",this.config.enable_slider?ct(y||(y=Ze(['<span\n            class="ed-timetable-header-arrow-right"\n            @click=',"\n            >→</span\n          >"])),function(e){return a.changeDay("next",e)}):"")}},{key:"changeDay",value:function(e,t){if(t.preventDefault(),!t.target.classList.contains("disabled")){var n=t.target.parentElement.parentElement,i=n.previousElementSibling&&n.previousElementSibling.classList.contains("ed-timetable-day-wrapper"),a=n.nextElementSibling&&n.nextElementSibling.classList.contains("ed-timetable-day-wrapper"),r=null;"previous"===e&&i?r=n.previousElementSibling:"next"===e&&a&&(r=n.nextElementSibling),r&&(n.classList.remove("active"),r.classList.add("active"),i=r.previousElementSibling&&r.previousElementSibling.classList.contains("ed-timetable-day-wrapper"),a=r.nextElementSibling&&r.nextElementSibling.classList.contains("ed-timetable-day-wrapper"),i||r.querySelector(".ed-timetable-header-arrow-left").classList.add("disabled"),a||r.querySelector(".ed-timetable-header-arrow-right").classList.add("disabled"))}}},{key:"render",value:function(){if(!this.config||!this.hass)return ct(_||(_=Ze(['<div class="ed-card-no-data">\n        Veuillez configurer la carte\n      </div>'])));var e=this.hass.states[this.config.entity];if(e){var t=e.attributes["Emploi du temps"];if(t){this.lunchBreakRendered=!1;for(var n=[],i=[],a=0,r=null,o=null,s=new Date,l=0,d=0;d<t.length;d++){var c=t[d],u=this.getFormattedDate(c),h=new Date(c.end_at);if(c.isAnnule||(null===r&&(r=c.start_at),o=c.end_at),c.isAnnule&&d<t.length-1){var p=t[d+1];if(c.start_at===p.start_at&&!p.isAnnule)continue}if(i.push(this.getTimetableRow(c)),d+1>=t.length||d+1<t.length&&u!==this.getFormattedDate(t[d+1]))this.config.enable_slider&&this.config.switch_to_next_day&&ht(h,s)&&h<s&&(l=a+1),n.push(ct(m||(m=Ze(['\n              <div\n                class="'," ed-timetable-day-wrapper ",'"\n              >\n                ',"\n                <table>\n                  ","\n                </table>\n              </div>\n            "])),this.config.enable_slider?"slider-enabled":"",a===l?"active":"",this.getDayHeader(c,r,o,a),i)),i=[],this.lunchBreakRendered=!1,r=null,o=null,a++;else if(this.config.display_free_time_slots&&d+1<t.length){var f=new Date(c.end_at),g=t[d+1],v=new Date(g.start_at);if(c.is_morning===g.is_morning&&Math.floor((v-f)/1e3/60)>30){var y=new Date;i.push(this.getBreakRow("Pas de cours",this.config.dim_ended_lessons&&v<y))}}}return i.length>0&&n.push(ct(b||(b=Ze(["<table>\n              ","\n            </table>"])),i)),ct(w||(w=Ze([' <ha-card\n          id="','-card"\n          class="','"\n        >\n          ',"\n          ","\n        </ha-card>"])),this.config.entity,this.config.enable_slider?"ed-timetable-card-slider":"",this.config.display_header?this.getCardHeader():"",n)}}return ct(k||(k=Ze(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>'])))}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("Vous devez définir une entité");this.config=We(We({},{entity:null,display_header:!0,display_classroom:!0,display_teacher:!0,display_day_hours:!0,display_lunch_break:!0,dim_ended_lessons:!0,enable_slider:!1,switch_to_next_day:!1,display_free_time_slots:!0}),e),this.header_title="Emploi du temps de ",this.no_data_message="Pas d'emploi du temps à afficher"}}],[{key:"styles",get:function(){return ut(x||(x=Ze(["\n      ","\n      .ed-timetable-card-slider .ed-timetable-day-wrapper {\n        display: none;\n      }\n      .ed-timetable-card-slider .ed-timetable-day-wrapper.active {\n        display: block;\n      }\n      .ed-timetable-card-slider .ed-timetable-header-date {\n        display: inline-block;\n        text-align: center;\n        width: 120px;\n      }\n      .ed-timetable-header-arrow-left,\n      .ed-timetable-header-arrow-right {\n        cursor: pointer;\n      }\n      .ed-timetable-header-arrow-left.disabled,\n      .ed-timetable-header-arrow-right.disabled {\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      span.ed-timetable-header-hours {\n        float: right;\n      }\n      table {\n        clear: both;\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      tr:nth-child(odd) {\n        background-color: rgba(0, 0, 0, 0.1);\n      }\n      td {\n        vertical-align: middle;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      tr td:first-child {\n        width: 13%;\n        text-align: right;\n      }\n      span.lesson-name {\n        font-weight: bold;\n        display: block;\n      }\n      tr td:nth-child(2) {\n        width: 4px;\n        padding: 5px 0;\n      }\n      tr td:nth-child(2) > span {\n        display: inline-block;\n        width: 4px;\n        height: 3rem;\n        border-radius: 4px;\n        background-color: grey;\n        margin-top: 4px;\n      }\n      span.lesson-status {\n        color: white;\n        background-color: rgb(75, 197, 253);\n        padding: 4px;\n        border-radius: 4px;\n      }\n      .lesson-canceled span.lesson-name {\n        text-decoration: line-through;\n      }\n      .lesson-canceled span.lesson-status {\n        background-color: rgb(250, 50, 75);\n      }\n      .lesson-ended {\n        opacity: 0.3;\n      }\n      div:not(.slider-enabled).ed-timetable-day-wrapper\n        + div:not(.slider-enabled).ed-timetable-day-wrapper {\n        border-top: 1px solid white;\n      }\n    "])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,display_lunch_break:!0,display_classroom:!0,display_teacher:!0,display_day_hours:!0,dim_ended_lessons:!0,enable_slider:!1,display_free_time_slots:!0,switch_to_next_day:!1}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-emploi_temps-card-editor")}}])}();customElements.define("ecole_directe-emploi_temps-card",pt),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-emploi_temps-card",name:"Carte de l'emploi du temps pour Ecole Directe",description:"Affiche l'emploi du temps pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#emploi_temps"});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var ft=globalThis,gt=ft.trustedTypes,vt=gt?gt.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,yt="$lit$",_t="lit$".concat(Math.random().toFixed(9).slice(2),"$"),mt="?"+_t,bt="<".concat(mt,">"),wt=document,kt=function(){return wt.createComment("")},xt=function(e){return null===e||"object"!=ze(e)&&"function"!=typeof e},At=Array.isArray,Dt="[ \t\n\f\r]",Et=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$t=/-->/g,Ct=/>/g,St=RegExp(">|".concat(Dt,"(?:([^\\s\"'>=/]+)(").concat(Dt,"*=").concat(Dt,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Ft=/'/g,Ot=/"/g,jt=/^(?:script|style|textarea|title)$/i,Rt=Symbol.for("lit-noChange"),Pt=Symbol.for("lit-nothing"),Ht=new WeakMap,Mt=wt.createTreeWalker(wt,129);function Tt(e,t){if(!At(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==vt?vt.createHTML(t):t}var Nt=function(e,t){for(var n,i=e.length-1,a=[],r=2===t?"<svg>":3===t?"<math>":"",o=Et,s=0;s<i;s++){for(var l=e[s],d=void 0,c=void 0,u=-1,h=0;h<l.length&&(o.lastIndex=h,null!==(c=o.exec(l)));)h=o.lastIndex,o===Et?"!--"===c[1]?o=$t:void 0!==c[1]?o=Ct:void 0!==c[2]?(jt.test(c[2])&&(n=RegExp("</"+c[2],"g")),o=St):void 0!==c[3]&&(o=St):o===St?">"===c[0]?(o=null!=n?n:Et,u=-1):void 0===c[1]?u=-2:(u=o.lastIndex-c[2].length,d=c[1],o=void 0===c[3]?St:'"'===c[3]?Ot:Ft):o===Ot||o===Ft?o=St:o===$t||o===Ct?o=Et:(o=St,n=void 0);var p=o===St&&e[s+1].startsWith("/>")?" ":"";r+=o===Et?l+bt:u>=0?(a.push(d),l.slice(0,u)+yt+l.slice(u)+_t+p):l+_t+(-2===u?s:p)}return[Tt(e,r+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),a]},Lt=function(){return Ke(function e(t,n){var i,a=t.strings,r=t._$litType$;Xe(this,e),this.parts=[];var o=0,s=0,l=a.length-1,d=this.parts,c=Le(Nt(a,r),2),u=c[0],h=c[1];if(this.el=e.createElement(u,n),Mt.currentNode=this.el.content,2===r||3===r){var p=this.el.content.firstChild;p.replaceWith.apply(p,qe(p.childNodes))}for(;null!==(i=Mt.nextNode())&&d.length<l;){if(1===i.nodeType){if(i.hasAttributes()){var f,g=Ne(i.getAttributeNames());try{for(g.s();!(f=g.n()).done;){var v=f.value;if(v.endsWith(yt)){var y=h[s++],_=i.getAttribute(v).split(_t),m=/([.?@])?(.*)/.exec(y);d.push({type:1,index:o,name:m[2],strings:_,ctor:"."===m[1]?Ut:"?"===m[1]?Bt:"@"===m[1]?Gt:qt}),i.removeAttribute(v)}else v.startsWith(_t)&&(d.push({type:6,index:o}),i.removeAttribute(v))}}catch(e){g.e(e)}finally{g.f()}}if(jt.test(i.tagName)){var b=i.textContent.split(_t),w=b.length-1;if(w>0){i.textContent=gt?gt.emptyScript:"";for(var k=0;k<w;k++)i.append(b[k],kt()),Mt.nextNode(),d.push({type:2,index:++o});i.append(b[w],kt())}}}else if(8===i.nodeType)if(i.data===mt)d.push({type:2,index:o});else for(var x=-1;-1!==(x=i.data.indexOf(_t,x+1));)d.push({type:7,index:o}),x+=_t.length-1;o++}},null,[{key:"createElement",value:function(e,t){var n=wt.createElement("template");return n.innerHTML=e,n}}])}();function zt(e,t){var n,i,a,r,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=arguments.length>3?arguments[3]:void 0;if(t===Rt)return t;var d=void 0!==l?null===(n=s._$Co)||void 0===n?void 0:n[l]:s._$Cl,c=xt(t)?void 0:t._$litDirective$;return(null===(i=d)||void 0===i?void 0:i.constructor)!==c&&(null!==(a=d)&&void 0!==a&&null!==(r=a._$AO)&&void 0!==r&&r.call(a,!1),void 0===c?d=void 0:(d=new c(e))._$AT(e,s,l),void 0!==l?(null!==(o=s._$Co)&&void 0!==o?o:s._$Co=[])[l]=d:s._$Cl=d),void 0!==d&&(t=zt(e,d._$AS(e,t.values),d,l)),t}var It=function(){return Ke(function e(t,n){Xe(this,e),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,n=this._$AD,i=n.el.content,a=n.parts,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:wt).importNode(i,!0);Mt.currentNode=r;for(var o=Mt.nextNode(),s=0,l=0,d=a[0];void 0!==d;){var c;if(s===d.index){var u=void 0;2===d.type?u=new Vt(o,o.nextSibling,this,e):1===d.type?u=new d.ctor(o,d.name,d.strings,this,e):6===d.type&&(u=new Wt(o,this,e)),this._$AV.push(u),d=a[++l]}s!==(null===(c=d)||void 0===c?void 0:c.index)&&(o=Mt.nextNode(),s++)}return Mt.currentNode=wt,r}},{key:"p",value:function(e){var t,n=0,i=Ne(this._$AV);try{for(i.s();!(t=i.n()).done;){var a=t.value;void 0!==a&&(void 0!==a.strings?(a._$AI(e,a,n),n+=a.strings.length-2):a._$AI(e[n])),n++}}catch(e){i.e(e)}finally{i.f()}}}])}(),Vt=function(){function e(t,n,i,a){var r;Xe(this,e),this.type=2,this._$AH=Pt,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=a,this._$Cv=null===(r=null==a?void 0:a.isConnected)||void 0===r||r}return Ke(e,[{key:"_$AU",get:function(){var e,t;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cv}},{key:"parentNode",get:function(){var e,t=this._$AA.parentNode,n=this._$AM;return void 0!==n&&11===(null===(e=t)||void 0===e?void 0:e.nodeType)&&(t=n.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){e=zt(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),xt(e)?e===Pt||null==e||""===e?(this._$AH!==Pt&&this._$AR(),this._$AH=Pt):e!==this._$AH&&e!==Rt&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):function(e){return At(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator])}(e)?this.k(e):this._(e)}},{key:"O",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"_",value:function(e){this._$AH!==Pt&&xt(this._$AH)?this._$AA.nextSibling.data=e:this.T(wt.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var t,n=e.values,i=e._$litType$,a="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Lt.createElement(Tt(i.h,i.h[0]),this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===a)this._$AH.p(n);else{var r=new It(a,this),o=r.u(this.options);r.p(n),this.T(o),this._$AH=r}}},{key:"_$AC",value:function(e){var t=Ht.get(e.strings);return void 0===t&&Ht.set(e.strings,t=new Lt(e)),t}},{key:"k",value:function(t){At(this._$AH)||(this._$AH=[],this._$AR());var n,i,a=this._$AH,r=0,o=Ne(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;r===a.length?a.push(n=new e(this.O(kt()),this.O(kt()),this,this.options)):n=a[r],n._$AI(s),r++}}catch(e){o.e(e)}finally{o.f()}r<a.length&&(this._$AR(n&&n._$AB.nextSibling,r),a.length=r)}},{key:"_$AR",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e!==this._$AB;){var n,i=e.nextSibling;e.remove(),e=i}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cv=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}])}(),qt=function(){return Ke(function e(t,n,i,a,r){Xe(this,e),this.type=1,this._$AH=Pt,this._$AN=void 0,this.element=t,this.name=n,this._$AM=a,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Pt},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=this.strings,r=!1;if(void 0===a)e=zt(this,e,t,0),(r=!xt(e)||e!==this._$AH&&e!==Rt)&&(this._$AH=e);else{var o,s,l=e;for(e=a[0],o=0;o<a.length-1;o++)(s=zt(this,l[n+o],t,o))===Rt&&(s=this._$AH[o]),r||(r=!xt(s)||s!==this._$AH[o]),s===Pt?e=Pt:e!==Pt&&(e+=(null!=s?s:"")+a[o+1]),this._$AH[o]=s}r&&!i&&this.j(e)}},{key:"j",value:function(e){e===Pt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}])}(),Ut=function(){function e(){var t;return Xe(this,e),(t=et(this,e,arguments)).type=3,t}return it(e,qt),Ke(e,[{key:"j",value:function(e){this.element[this.name]=e===Pt?void 0:e}}])}(),Bt=function(){function e(){var t;return Xe(this,e),(t=et(this,e,arguments)).type=4,t}return it(e,qt),Ke(e,[{key:"j",value:function(e){this.element.toggleAttribute(this.name,!!e&&e!==Pt)}}])}(),Gt=function(){function e(t,n,i,a,r){var o;return Xe(this,e),(o=et(this,e,[t,n,i,a,r])).type=5,o}return it(e,qt),Ke(e,[{key:"_$AI",value:function(e){var t;if((e=null!==(t=zt(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:Pt)!==Rt){var n=this._$AH,i=e===Pt&&n!==Pt||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,a=e!==Pt&&(n===Pt||i);i&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}])}(),Wt=function(){return Ke(function e(t,n,i){Xe(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){zt(this,e)}}])}(),Yt=ft.litHtmlPolyfillSupport;null!=Yt&&Yt(Lt,Vt),(null!==(A=ft.litHtmlVersions)&&void 0!==A?A:ft.litHtmlVersions=[]).push("3.3.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Zt=2,Xt=function(){return Ke(function e(t){Xe(this,e)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,qe(t))}}])}(),Jt=function(){function e(t){var n;if(Xe(this,e),(n=et(this,e,[t])).it=Pt,t.type!==Zt)throw Error(n.constructor.directiveName+"() can only be used in child bindings");return n}return it(e,Xt),Ke(e,[{key:"render",value:function(e){if(e===Pt||null==e)return this._t=void 0,this.it=e;if(e===Rt)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;var t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}])}();Jt.directiveName="unsafeHTML",Jt.resultType=1;var Kt=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return{_$litDirective$:e,values:n}}}(Jt),Qt=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),en=Qt.prototype.html,tn=Qt.prototype.css;Date.prototype.getWeekNumber=function(){var e=new Date(+this);return e.setHours(0,0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)};var nn=function(){function e(){var t;Xe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Ye(t=et(this,e,[].concat(i)),"lunchBreakRendered",!1),t}return it(e,lt),Ke(e,[{key:"initCard",value:function(){}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getDayHeader",value:function(e,t){var n=this;return en(D||(D=Ze(['<div class="ed-devoir-header">\n      ','\n      <span class="ed-devoir-header-date"\n        >',"</span\n      >\n      ","\n    </div>"])),this.config.enable_slider?en(E||(E=Ze(['<span\n            class="ed-devoir-header-arrow-left ','"\n            @click=',"\n            >←</span\n          >"])),0===t?"disabled":"",function(e){return n.changeDay("previous",e)}):"",this.getFormattedDate(e.date),this.config.enable_slider?en($||($=Ze(['<span\n            class="ed-devoir-header-arrow-right"\n            @click=',"\n            >→</span\n          >"])),function(e){return n.changeDay("next",e)}):"")}},{key:"changeDay",value:function(e,t){if(t.preventDefault(),!t.target.classList.contains("disabled")){var n=t.target.parentElement.parentElement,i=n.previousElementSibling&&n.previousElementSibling.classList.contains("ed-devoir-day-wrapper"),a=n.nextElementSibling&&n.nextElementSibling.classList.contains("ed-devoir-day-wrapper"),r=null;"previous"===e&&i?r=n.previousElementSibling:"next"===e&&a&&(r=n.nextElementSibling),r&&(n.classList.remove("active"),r.classList.add("active"),i=r.previousElementSibling&&r.previousElementSibling.classList.contains("ed-devoir-day-wrapper"),a=r.nextElementSibling&&r.nextElementSibling.classList.contains("ed-devoir-day-wrapper"),i||r.querySelector(".ed-devoir-header-arrow-left").classList.add("disabled"),a||r.querySelector(".ed-devoir-header-arrow-right").classList.add("disabled"))}}},{key:"getdevoirRow",value:function(e,t){var n=e.description.trim().replace("\n","<br />");return en(C||(C=Ze(['\n      <tr class="','">\n        <td class="devoir-detail">\n          <label for="devoir-','">\n            <span class="devoir-subject">',"</span>\n            ",'\n          </label>\n          <input type="checkbox" id="devoir-','" />\n          <span class="devoir-description">','</span>\n        </td>\n        <td class="devoir-status">\n          <span\n            >',"</span\n          >\n        </td>\n      </tr>\n    "])),e.effectue?"devoir-done":"",t,e.matiere,e.interrogation?en(S||(S=Ze(['<span class="devoir-controle">(Contrôle)</span>']))):en(F||(F=Ze([""]))),t,Kt(n),e.effectue?en(O||(O=Ze(['<ha-icon icon="mdi:check"></ha-icon>']))):en(j||(j=Ze(['<ha-icon icon="mdi:account-clock"></ha-icon>']))))}},{key:"getDayRow",value:function(e,t,n){return en(R||(R=Ze(['\n      <div\n        class="'," ed-devoir-day-wrapper ",'"\n      >\n        ','\n        <table class="','">\n          ',"\n        </table>\n      </div>\n    "])),this.config.enable_slider?"slider-enabled":"",0===n?"active":"",this.getDayHeader(e,n),this.config.reduce_done_devoir?"reduce-done":"",t)}},{key:"render",value:function(){if(!this.config||!this.hass)return en(P||(P=Ze(['<div class="ed-card-no-data">\n        Veuillez configurer la carte\n      </div>'])));var e=this.hass.states[this.config.entity];if(e){var t=e.attributes.Devoirs;if(t){var n=[],i=[],a=0;if(t&&t.length>0){if(t[0].Erreur)return en(H||(H=Ze(['<div class="ed-card-no-data">',"</div>"])),t[0].Erreur);for(var r=this.getFormattedDate(t[0].date),o=0;o<t.length;o++){var s=t[o],l=this.getFormattedDate(s.date);!0===s.effectue&&!1===this.config.display_done_devoir||(r!==l&&(i.length>0&&(n.push(this.getDayRow(t[o-1],i,a)),i=[]),r=l,a++),i.push(this.getdevoirRow(s,o)))}i.length>0&&n.push(this.getDayRow(t[t.length-1],i,a))}return 0===n.length&&n.push(this.noDataMessage()),en(M||(M=Ze([' <ha-card\n          id="','-card"\n          class="','"\n        >\n          ',"\n          ","\n        </ha-card>"])),this.config.entity,this.config.enable_slider?"ed-devoir-card-slider":"",this.config.display_header?this.getCardHeader():"",n)}}return en(T||(T=Ze(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>'])))}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("Vous devez définir une entité");this.config=We(We({},{entity:null,display_header:!0,reduce_done_devoir:!0,display_done_devoir:!0,enable_slider:!1}),e),this.header_title="Devoirs de ",this.no_data_message="Pas de devoirs à faire"}}],[{key:"styles",get:function(){return tn(N||(N=Ze(["\n      ","\n      .ed-devoir-card-slider .ed-devoir-day-wrapper {\n        display: none;\n      }\n      .ed-devoir-card-slider .ed-devoir-day-wrapper.active {\n        display: block;\n      }\n      .ed-devoir-card-slider .ed-devoir-header-date {\n        display: inline-block;\n        text-align: center;\n        width: 120px;\n      }\n      .ed-devoir-header-arrow-left,\n      .ed-devoir-header-arrow-right {\n        cursor: pointer;\n      }\n      .ed-devoir-header-arrow-left.disabled,\n      .ed-devoir-header-arrow-right.disabled {\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      div:not(.slider-enabled) > .ed-devoir-header {\n        border-bottom: 2px solid grey;\n      }\n      .slider-enabled > .ed-devoir-header {\n        padding-top: 0;\n        text-align: center;\n      }\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      td.devoir-detail {\n        padding: 0;\n        padding-top: 8px;\n        padding-bottom: 8px;\n      }\n      span.devoir-subject {\n        display: block;\n        font-weight: bold;\n      }\n      span.devoir-controle {\n        display: block;\n        font-weight: bold;\n        color: red;\n      }\n      span.devoir-description {\n        font-size: 0.9em;\n      }\n      td.devoir-status {\n        width: 5%;\n      }\n      .reduce-done .devoir-done label:hover {\n        cusor: pointer;\n      }\n      .reduce-done .devoir-done .devoir-description {\n        display: none;\n      }\n      .reduce-done .devoir-done input:checked + .devoir-description {\n        display: block;\n      }\n      .devoir-detail input {\n        display: none;\n      }\n    "])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,reduce_done_devoir:!0,display_done_devoir:!0,enable_slider:!1}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-devoirs-card-editor")}}])}();customElements.define("ecole_directe-devoirs-card",nn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-devoirs-card",name:"Carte des devoirs pour Ecole Directe",description:"Affiche les devoirs pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#devoirs"});var an=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),rn=an.prototype.html,on=an.prototype.css,sn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,lt),Ke(e,[{key:"initCard",value:function(){this.items_attribute_key="notes",this.header_title="Notes de ",this.no_data_message="Aucune note disponible"}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getGradeRow",value:function(e){var t=parseFloat(e.note.replace(",",".")),n=[];if(null!==this.config.compare_with_ratio){var i=parseFloat(this.config.compare_with_ratio),a=t/parseFloat(e.sur.replace(",","."));n.push(a>=i?"above-ratio":"below-ratio")}else if(this.config.compare_with_class_average&&e.moyenne_classe){var r=parseFloat(e.moyenne_classe.replace(",","."));n.push(t>r?"above-average":"below-average")}var o=e.note_sur;if("short"===this.config.grade_format&&(o=e.note),this.config.display_new_grade_notice){var s=new Date(e.date),l=new Date;s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()&&s.getDate()===l.getDate()&&n.push("new-grade")}return rn(L||(L=Ze(['\n      <tr class="','">\n        <td class="grade-color"><span></span></td>\n        <td class="grade-description">\n          <span class="grade-subject">',"</span>\n          ","\n          ","\n          ",'\n        </td>\n        <td class="grade-detail">\n          <span class="grade-value">',"</span>\n          ","\n          ","\n          ","\n        </td>\n      </tr>\n    "])),n.join(" "),e.matiere,this.config.display_comment?rn(z||(z=Ze(['<span class="grade-comment">',"</span>"])),e.commentaire):"",this.config.display_date?rn(I||(I=Ze(['<span class="grade-date"\n                >',"</span\n              >"])),this.getFormattedDate(e.date)):"",this.config.display_coefficient&&e.coefficient?rn(V||(V=Ze(['<span class="grade-coefficient"\n                >Coef. ',"</span\n              >"])),e.coefficient):"",o,this.config.display_class_average&&e.moyenne_classe?rn(q||(q=Ze(['<span class="grade-class-average"\n                >Moy. ',"</span\n              >"])),e.moyenne_classe):"",this.config.display_class_min&&e.min?rn(U||(U=Ze(['<span class="grade-class-min">Min. ',"</span>"])),e.min):"",this.config.display_class_max&&e.max?rn(B||(B=Ze(['<span class="grade-class-max">Max. ',"</span>"])),e.max):"")}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){for(var e,t=this.getItems(),n=null!==(e=this.config.max_grades)&&void 0!==e?e:t.length,i=[],a=[],r=0;r<n&&!(r>=t.length);r++){var o=t[r];i.push(this.getGradeRow(o))}return i.length>0?a.push(rn(G||(G=Ze(["<table>\n            ","\n          </table>"])),i)):a.push(this.noDataMessage()),a}}},{key:"getDefaultConfig",value:function(){return{grade_format:"full",display_header:!0,display_date:!0,display_comment:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_coefficient:!0,display_class_min:!0,display_class_max:!0,display_new_grade_notice:!0,max_grades:null}}}],[{key:"styles",get:function(){return on(W||(W=Ze(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      td.grade-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.grade-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 1rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n      .above-average .grade-color > span,\n      .above-ratio .grade-color > span {\n        background-color: green;\n      }\n      .below-average .grade-color > span,\n      .below-ratio .grade-color > span {\n        background-color: orange;\n      }\n      .grade-description {\n        padding-left: 0;\n      }\n      .grade-subject {\n        display: inline-block;\n        font-weight: bold;\n        position: relative;\n      }\n      .new-grade .grade-subject:after {\n        content: " ";\n        display: block;\n        width: 6px;\n        height: 6px;\n        border-radius: 6px;\n        background-color: orange;\n        position: absolute;\n        top: 6px;\n        right: -14px;\n      }\n      .grade-comment {\n        display: block;\n      }\n      .grade-date,\n      .grade-coefficient {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .grade-date + .grade-coefficient:before {\n        content: " - ";\n      }\n      .grade-detail {\n        text-align: right;\n      }\n      .grade-value {\n        font-weight: bold;\n      }\n      .grade-value,\n      .grade-class-average {\n        display: block;\n      }\n      .grade-class-average,\n      .grade-class-min,\n      .grade-class-max {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .grade-class-min + .grade-class-max:before {\n        content: " - ";\n      }\n    '])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{grade_format:"full",display_header:!0,display_date:!0,display_comment:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_coefficient:!0,display_class_min:!0,display_class_max:!0,display_new_grade_notice:!0,max_grades:null}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-notes-card-editor")}}])}();customElements.define("ecole_directe-notes-card",sn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-notes-card",name:"Carte des notes pour Ecole Directe",description:"Affiche les notes pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#notes"});var ln=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),dn=ln.prototype.html,cn=ln.prototype.css,un=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,lt),Ke(e,[{key:"initCard",value:function(){this.items_attribute_key="Disciplines",this.header_title="Moyennes de ",this.no_data_message="Aucune moyenne"}},{key:"getOverallAverageRow",value:function(){var e="".concat(this.config.entity);if(!this.hass.states[e])return dn(Y||(Y=Ze([""])));var t=this.hass.states[e].state;if(!t)return dn(Z||(Z=Ze([""])));var n=parseFloat(t.replace(",",".")),i=[];if(null!==this.config.compare_with_ratio){var a=parseFloat(this.config.compare_with_ratio);i.push(n>=a?"above-ratio":"below-ratio")}return dn(X||(X=Ze(['\n      <tr class="',' overall-average">\n        <td class="average-color"><span></span></td>\n        <td class="average-description">\n          <span class="average-subject">Moyenne générale</span>\n        </td>\n        <td class="average-detail">\n          <span class="average-value"\n            ><span>',"</span></span\n          >\n        </td>\n      </tr>\n    "])),i.join(" "),t.replace(".",","))}},{key:"getAverageRow",value:function(e){var t=parseFloat(e.moyenne.replace(",",".")),n=[];if(null!==this.config.compare_with_ratio){var i=parseFloat(this.config.compare_with_ratio);n.push(t>=i?"above-ratio":"below-ratio")}else if(this.config.compare_with_class_average&&e.moyenneClasse){var a=parseFloat(e.moyenneClasse.replace(",","."));n.push(t>a?"above-average":"below-average")}return dn(J||(J=Ze(['\n      <tr class="','">\n        <td class="average-color">\n          <span style="background-color:Grey"></span>\n        </td>\n        <td class="average-description">\n          <span class="average-subject">','</span>\n        </td>\n        <td class="average-detail">\n          <span class="average-value">',"</span>\n          ","\n          ","\n          ","\n        </td>\n      </tr>\n    "])),n.join(" "),e.nom,e.moyenne,this.config.display_class_average&&e.moyenneClasse?dn(K||(K=Ze(['<span class="average-class-average"\n                >Classe ',"</span\n              >"])),e.moyenneClasse):"",this.config.display_class_min&&e.moyenneMin?dn(Q||(Q=Ze(['<span class="average-class-min"\n                >Min. ',"</span\n              >"])),e.moyenneMin):"",this.config.display_class_max&&e.moyenneMax?dn(ee||(ee=Ze(['<span class="average-class-max"\n                >Max. ',"</span\n              >"])),e.moyenneMax):"")}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){var e=this.getItems(),t=[],n=[];this.config.display_overall_average&&n.push(this.getOverallAverageRow(e));for(var i=0;i<e.length;i++){var a=e[i];n.push(this.getAverageRow(a))}return n.length>0?t.push(dn(te||(te=Ze(["<table>\n            ","\n          </table>"])),n)):t.push(this.noDataMessage()),t}return[]}},{key:"getDefaultConfig",value:function(){return{display_header:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_class_min:!0,display_class_max:!0,display_overall_average:!0}}}],[{key:"styles",get:function(){return cn(ne||(ne=Ze(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      tr.overall-average {\n        border-bottom: 1px solid #393c3d;\n      }\n      tr.overall-average td {\n        text-transform: uppercase;\n        padding-bottom: 10px;\n      }\n      tr.overall-average .average-value span {\n        padding: 5px;\n        border-radius: 5px;\n        border: 1px solid var(--primary-text-color);\n      }\n      tr.overall-average tr td {\n        padding-top: 10px;\n      }\n      td.average-comparison-color,\n      td.average-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.average-comparison-color > span,\n      td.average-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 1rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n\n      .above-average .average-detail,\n      .above-ratio .average-detail,\n      .below-average .average-detail,\n      .below-ratio .average-detail {\n        position: relative;\n      }\n      .above-average span.average-value,\n      .above-ratio span.average-value,\n      .below-average span.average-value,\n      .below-ratio span.average-value {\n        padding-right: 16px;\n      }\n      .above-average span.average-value:before,\n      .above-ratio span.average-value:before,\n      .below-average span.average-value:before,\n      .below-ratio span.average-value:before {\n        content: " ";\n        display: block;\n        width: 10px;\n        height: 10px;\n        border-radius: 5px;\n        position: absolute;\n        right: 10px;\n        top: 13px;\n      }\n      .above-average span.average-value:before,\n      .above-ratio span.average-value:before {\n        background-color: green;\n      }\n      .below-average span.average-value:before,\n      .below-ratio span.average-value:before {\n        background-color: orange;\n      }\n      .average-description {\n        padding-left: 0;\n      }\n      .average-subject {\n        display: inline-block;\n        font-weight: bold;\n        position: relative;\n      }\n      .average-detail {\n        text-align: right;\n      }\n      .average-value {\n        font-weight: bold;\n      }\n      .average-value,\n      .average-class-average {\n        display: block;\n      }\n      .average-class-average,\n      .average-class-min,\n      .average-class-max {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .average-class-min + .average-class-max:before {\n        content: " - ";\n      }\n    '])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_class_min:!0,display_class_max:!0}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-moyennes-card-editor")}}])}();customElements.define("ecole_directe-moyennes-card",un),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-moyennes-card",name:"Carte des moyennes pour Ecole Directe",description:"Affiche les moyennes pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#moyennes"});var hn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),pn=hn.prototype.html,fn=hn.prototype.css,gn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,lt),Ke(e,[{key:"initCard",value:function(){this.items_attribute_key="Evaluations",this.header_title="Evaluations de ",this.no_data_message="Pas d'évaluation à afficher"}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getAcquisitionRow",value:function(e){return pn(ie||(ie=Ze(['<tr class="acquisition-row">\n      <td>',"</td>\n      <td>","</td>\n    </tr>"])),e.competence,this.getAcquisitionIcon(e))}},{key:"getAcquisitionIcon",value:function(e){var t=this.config.mapping_evaluations[e.valeur]||e.valeur,n="";return"A+"===t?n="+":"Abs"===t&&(n="a"),pn(ae||(ae=Ze(['\n      <span\n        title="','"\n        class="acquisition-icon acquisition-icon-','"\n      >\n        ',"\n      </span>\n    "])),e.descriptif,t,n)}},{key:"getEvaluationRow",value:function(e,t){for(var n=e.elements_programme,i=[],a=[],r=0;r<n.length;r++)i.push(this.getAcquisitionIcon(n[r])),a.push(this.getAcquisitionRow(n[r]));return pn(re||(re=Ze(['\n      <tr class="evaluation-row">\n        <td class="evaluation-color">\n          <span style="background-color:','"></span>\n        </td>\n        <td class="evaluation-description">\n          <label for="evaluation-full-detail-','">\n            <span class="evaluation-subject">','</span>\n          </label>\n          <input type="checkbox" id="evaluation-full-detail-','" />\n          ',"\n          ",'\n        </td>\n        <td class="evaluation-detail">',"</td>\n      </tr>\n      ","\n    "])),"grey",t,e.matiere,t,this.config.display_comment?pn(oe||(oe=Ze(['<span class="evaluation-comment">',"</span>"])),e.devoir):"",this.config.display_date?pn(se||(se=Ze(['<span class="evaluation-date"\n                >',"</span\n              >"])),this.getFormattedDate(e.date)):"",i,a)}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){for(var e,t=this.getItems(),n=null!==(e=this.config.max_evaluations)&&void 0!==e?e:t.length,i=[],a=[],r=0;r<n&&!(r>=t.length);r++){var o=t[r];i.push(this.getEvaluationRow(o,r))}return i.length>0?a.push(pn(le||(le=Ze(["<table>\n            ","\n          </table>"])),i)):a.push(this.noDataMessage()),a}return[]}},{key:"getDefaultConfig",value:function(){return{display_header:!0,display_description:!0,display_teacher:!0,display_date:!0,display_comment:!0,max_evaluations:null,mapping_evaluations:{}}}}],[{key:"styles",get:function(){return fn(de||(de=Ze(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      td.evaluation-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.evaluation-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 2rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n      .above-average .evaluation-color > span,\n      .above-ratio .evaluation-color > span {\n        background-color: green;\n      }\n      .below-average .evaluation-color > span,\n      .below-ratio .evaluation-color > span {\n        background-color: orange;\n      }\n      .evaluation-subject {\n        font-weight: bold;\n        display: block;\n      }\n      .evaluation-description {\n        display: block;\n      }\n      .evaluation-teacher {\n        display: block;\n      }\n      .evaluation-date,\n      .evaluation-coefficient {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .evaluation-comment {\n        display: block;\n      }\n      .evaluation-date + .evaluation-coefficient:before {\n        content: " - ";\n      }\n      .evaluation-detail {\n        text-align: right;\n      }\n      .evaluation-value {\n        font-weight: bold;\n      }\n      .acquisition-icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        border-radius: 50%;\n        border: solid 0.02em rgba(0, 0, 0, 0.5);\n        margin-left: 4px;\n        vertical-align: middle;\n        color: white;\n        content: "+";\n        text-align: center;\n        line-height: 14px;\n      }\n      .acquisition-icon-4 {\n        background-color: rgb(0, 176, 80);\n      }\n      .acquisition-icon-3 {\n        background-color: rgb(0, 112, 192);\n      }\n      .acquisition-icon-2 {\n        background-color: rgb(255, 192, 0);\n      }\n      .acquisition-icon-1 {\n        background-color: #f80a0a;\n      }\n      .acquisition-row {\n        display: none;\n      }\n      input[type="checkbox"] {\n        display: none;\n      }\n      /** FIXME\n        .evaluation-row:has(input:checked) .acquisition-icon {\n            display:none;\n        }\n        .evaluation-row:has(input:checked) + .acquisition-row {\n            display: table-row;\n        }\n        */\n      .acquisition-row td:nth-child(2) {\n        text-align: right;\n      }\n    '])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,display_description:!0,display_teacher:!0,display_date:!0,display_comment:!0,max_evaluations:null,mapping_evaluations:{}}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-evaluations-card-editor")}}])}();customElements.define("ecole_directe-evaluations-card",gn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-evaluations-card",name:"Carte des évaluations pour Ecole Directe",description:"Affiche les évaluations pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#evaluations"});var vn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),yn=vn.prototype.html,_n=vn.prototype.css,mn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,lt),Ke(e,[{key:"getAbsencesRetardsRow",value:function(e){var t=yn(ce||(ce=Ze(['\n      <tr>\n        <td class="absence-status">\n          <span\n            >','</span\n          >\n        </td>\n        <td>\n          <span\n            style="background-color:','"\n          ></span>\n        </td>\n        <td>\n          <span class="absence-from">','</span\n          ><br /><span class="absence-hours">','</span>\n        </td>\n        <td>\n          <span class="absence-reason">',"</span>\n        </td>\n      </tr>\n    "])),e.justifie?yn(ue||(ue=Ze(['<ha-icon icon="mdi:check"></ha-icon>']))):yn(he||(he=Ze(['<ha-icon icon="mdi:clock-alert-outline"></ha-icon>']))),e.justifie?"#107c41":"#e73a1f",e.display_date,e.libelle,e.motif);return yn(pe||(pe=Ze(["",""])),t)}},{key:"initCard",value:function(){this.hass.states[this.config.entity].attributes.Absences?(this.items_attribute_key="Absences",this.header_title="Absences de ",this.no_data_message="Aucune absence"):(this.items_attribute_key="Retards",this.header_title="Retards de ",this.no_data_message="Aucun retard")}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){for(var e=this.getItems(),t=[],n=[],i=0;i<e.length&&!(this.config.max&&this.config.max<i);i++)n.push(this.getAbsencesRetardsRow(e[i]));return e.length>0?t.push(yn(fe||(fe=Ze(["<table>\n            ","\n          </table>"])),n)):t.push(this.noDataMessage()),t}}},{key:"getDefaultConfig",value:function(){return{display_header:!0,max:null}}}],[{key:"styles",get:function(){return _n(ge||(ge=Ze(["\n      ","\n      table {\n        clear: both;\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      tr:nth-child(odd) {\n        background-color: rgba(0, 0, 0, 0.1);\n      }\n      td {\n        vertical-align: middle;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      tr td:first-child {\n        width: 10%;\n        text-align: right;\n      }\n      span.absence-reason {\n        font-weight: bold;\n        display: block;\n      }\n      tr td:nth-child(2) {\n        width: 4px;\n        padding: 5px 0;\n      }\n      tr td:nth-child(2) > span {\n        display: inline-block;\n        width: 4px;\n        height: 3rem;\n        border-radius: 4px;\n        background-color: grey;\n        margin-top: 4px;\n      }\n      span.absence-from {\n        font-weight: bold;\n        padding: 4px;\n        border-radius: 4px;\n      }\n      span.absence-hours {\n        font-size: 0.9em;\n        padding: 4px;\n      }\n      table + div {\n        border-top: 1px solid white;\n      }\n    "])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,max:null}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-absences-retards-card-editor")}}])}();customElements.define("ecole_directe-absences-retards-card",mn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-absences-retards-card",name:"Carte Absences/Retards pour Ecole Directe",description:"Affiche les absences ou les retards pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#absences"});var bn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),wn=bn.prototype.html,kn=bn.prototype.css,xn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,bn),Ke(e,[{key:"setConfig",value:function(e){this._config=e,this.loadEntityPicker()}},{key:"_valueChanged",value:function(e){var t=Object.assign({},this._config);void 0!==e.target.checked?t[e.target.configValue]=e.target.checked:t[e.target.configValue]=""==e.target.value?null:e.target.value,this._config=t;var n=new CustomEvent("config-changed",{detail:{config:t},bubbles:!0,composed:!0});this.dispatchEvent(n)}},{key:"buildSelectField",value:function(e,t,n,i,a){for(var r=[],o=0;o<n.length;o++){var s=n[o];r.push(wn(ve||(ve=Ze(['<ha-list-item .value="','"\n          >',"</ha-list-item\n        >"])),s.value,s.label))}return wn(ye||(ye=Ze(['\n      <ha-select\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n        @closed=","\n      >\n        ","\n      </ha-select>\n    "])),e,i||a,t,this._valueChanged,function(e){return e.stopPropagation()},r)}},{key:"buildSwitchField",value:function(e,t,n,i){return"boolean"!=typeof n&&(n=i),wn(_e||(_e=Ze(['\n      <ha-formfield class="switch-wrapper" .label="','">\n        <ha-switch\n          name="','"\n          .checked=','\n          .configValue="','"\n          @change=',"\n        ></ha-switch>\n      </ha-formfield>\n    "])),e,t,n,t,this._valueChanged)}},{key:"buildNumberField",value:function(e,t,n,i,a){return wn(me||(me=Ze(['\n      <ha-textfield\n        type="number"\n        step="','"\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n      >\n      </ha-textfield>\n    "])),a||1,e,n||i,t,this._valueChanged)}},{key:"buildTextField",value:function(e,t,n,i){return wn(be||(be=Ze(['\n      <ha-textfield\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n        @keyup=","\n      >\n      </ha-textfield>\n    "])),e,n||i,t,this._valueChanged,this._valueChanged)}},{key:"buildEntityPickerField",value:function(e,t,n,i){var a=new RegExp("ed_(.*)_"+i);return wn(we||(we=Ze(['\n      <ha-entity-picker\n        label="','"\n        .hass=',"\n        .value=","\n        .configValue=",'\n        .includeDomains="sensor"\n        .entityFilter="','"\n        @value-changed=',"\n        allow-custom-entity\n      ></ha-entity-picker>\n    "])),e,this.hass,n||"",t,function(e){return a.test(e.entity_id)},this._valueChanged)}},{key:"loadEntityPicker",value:(t=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){Te(r,i,a,o,s,"next",e)}function s(e){Te(r,i,a,o,s,"throw",e)}o(void 0)})}}(He().m(function e(){var t,n;return He().w(function(e){for(;;)switch(e.n){case 0:if(!window.customElements.get("ha-entity-picker")){e.n=1;break}return e.a(2);case 1:return e.n=2,window.loadCardHelpers();case 2:return t=e.v,e.n=3,t.createCardElement({type:"entities",entities:[]});case 3:return n=e.v,e.n=4,n.constructor.getConfigElement();case 4:return e.a(2)}},e)})),function(){return t.apply(this,arguments)})}],[{key:"properties",get:function(){return{hass:{},_config:{}}}},{key:"styles",get:function(){return kn(ke||(ke=Ze(["\n      ha-formfield {\n        display: block;\n        padding-top: 20px;\n        clear: right;\n      }\n      ha-formfield > ha-switch {\n        float: right;\n      }\n      ha-select,\n      ha-textfield {\n        clear: right;\n        width: 100%;\n        padding-top: 15px;\n      }\n    "])))}}]);var t}(),An=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Dn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,xn),Ke(e,[{key:"render",value:function(){return this.hass&&this._config?An(Ae||(Ae=Ze(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Timetable entity","entity",this._config.entity,"emploi_du_temps_(semaine_en_cours|semaine_suivante|semaine_apres_suivante|aujourd_hui|demain|jour_suivant)"),this.buildSwitchField("Display header","display_header",this._config.display_header,!0),this.buildSwitchField("Display classroom","display_classroom",this._config.display_classroom,!0),this.buildSwitchField("Display teacher","display_teacher",this._config.display_teacher,!0),this.buildSwitchField("Display day hours","display_day_hours",this._config.display_day_hours,!0),this.buildSwitchField("Display lunch break","display_lunch_break",this._config.display_lunch_break,!0),this.buildSwitchField("Dim ended lessons","dim_ended_lessons",this._config.dim_ended_lessons,!0),this.buildSwitchField("Enable slider","enable_slider",this._config.enable_slider,!1),this.buildSwitchField("Auto switch to next day (if slider enabled)","switch_to_next_day",this._config.switch_to_next_day,!1),this.buildSwitchField("Display free time slots","display_free_time_slots",this._config.display_free_time_slots,!0)):An(xe||(xe=Ze([""])))}}])}();customElements.define("ecole_directe-emploi_temps-card-editor",Dn);var En=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,$n=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,xn),Ke(e,[{key:"render",value:function(){return this.hass&&this._config?En(Ee||(Ee=Ze(["\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Devoir entity","entity",this._config.entity,"devoirs_(semaine_en_cours|semaine_suivante|semaine_apres_suivante|aujourd_hui|demain|jour_suivant)"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Reduce done devoir","reduce_done_devoir",this._config.reduce_done_devoir),this.buildSwitchField("Display done devoir","display_done_devoir",this._config.display_done_devoir),this.buildSwitchField("Enable slider","enable_slider",this._config.enable_slider,!1)):En(De||(De=Ze([""])))}}])}();customElements.define("ecole_directe-devoirs-card-editor",$n);var Cn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Sn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,xn),Ke(e,[{key:"render",value:function(){return this.hass&&this._config?Cn(Ce||(Ce=Ze(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Notes entity","entity",this._config.entity,"notes"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Display date","display_date",this._config.display_date),this.buildSwitchField("Display comment","display_comment",this._config.display_comment),this.buildSwitchField("Display class average","display_class_average",this._config.display_class_average),this.buildSwitchField("Compare with class average","compare_with_class_average",this._config.compare_with_class_average),this.buildSelectField("Grade format","grade_format",[{value:"full",label:"Full"},{value:"short",label:"Short"}],this._config.grade_format),this.buildSwitchField("Display coefficient","display_coefficient",this._config.display_coefficient),this.buildSwitchField("Display class min","display_class_min",this._config.display_class_min),this.buildSwitchField("Display class max","display_class_max",this._config.display_class_max),this.buildSwitchField("Display new grade notice","display_new_grade_notice",this._config.display_new_grade_notice)):Cn($e||($e=Ze([""])))}}])}();customElements.define("ecole_directe-notes-card-editor",Sn);var Fn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,On=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,xn),Ke(e,[{key:"render",value:function(){return this.hass&&this._config?Fn(Fe||(Fe=Ze(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Evaluations entity","entity",this._config.entity,"evaluations"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Display description","display_description",this._config.display_description),this.buildSwitchField("Display teacher","display_teacher",this._config.display_teacher),this.buildSwitchField("Display date","display_date",this._config.display_date),this.buildSwitchField("Display comment","display_comment",this._config.display_comment),this.buildNumberField("Max evaluations","max_evaluations",this._config.max_evaluations)):Fn(Se||(Se=Ze([""])))}}])}();customElements.define("ecole_directe-evaluations-card-editor",On);var jn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Rn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,xn),Ke(e,[{key:"render",value:function(){return this.hass&&this._config?jn(je||(je=Ze(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Cpateur moyennes","entity",this._config.entity,"moyenne_generale"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Display class average","display_class_average",this._config.display_class_average),this.buildSwitchField("Compare with class average","compare_with_class_average",this._config.compare_with_class_average),this.buildTextField("Compare with ratio","compare_with_ratio",this._config.compare_with_ratio,""),this.buildSwitchField("Display class min","display_class_min",this._config.display_class_min),this.buildSwitchField("Display class max","display_class_max",this._config.display_class_max),this.buildSwitchField("Display overall average","display_overall_average",this._config.display_overall_average,!0)):jn(Oe||(Oe=Ze([""])))}}])}();customElements.define("ecole_directe-moyennes-card-editor",Rn);var Pn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Hn=function(){function e(){return Xe(this,e),et(this,e,arguments)}return it(e,xn),Ke(e,[{key:"render",value:function(){return this.hass&&this._config?Pn(Pe||(Pe=Ze(["\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Absences/Retards entity","entity",this._config.entity,"(absences|retards)"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildNumberField("Max","max",this._config.max)):Pn(Re||(Re=Ze([""])))}}])}();customElements.define("ecole_directe-absences-retards-card-editor",Hn);
