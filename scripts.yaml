# TODO: split scripts
'1542490337256':
  alias: Notif slack (test)
  sequence:
  - service: camera.snapshot
    data:
      entity_id: camera.raspberry_pi_camera
      filename: '/home/homeassistant/.homeassistant/Share/last_sunrise.jpg'
  - service: shell_command.resize_sunrise_pic
  - service: notify.slack
    data:
      data:
        file:
          path: /home/homeassistant/.homeassistant/Share/last_sunrise.jpg
      message: Good morning!
      target:
      - '#hass'
      title: Sunrise
create_daily_gif:
  alias: Create Daily Gif
  sequence:
#  - service: shell_command.set_date
#  - service: shell_command.create_daily_gif
  - service: notify.slack
    data:
      data:
        file:
          path: "/home/homeassistant/.homeassistant/Share/{{ today }}.gif"
      message: Daily Gif!
      target:
      - '#hass'
      title: "{{ today }}"
#TODO: add number of times
vacuum_kitchen_and_diningroom:
  alias: "Vacuum Kitchen and Diningroom"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: 
        - [24384,22183,27484,25133,1]
        - [24964,25174,27714,28424,1]
vacuum_kitchen:
  alias: "Vacuum Kitchen"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: [[24384,22183,27484,25133,1]]
vacuum_diningroom:
  alias: "Vacuum Dining Room"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: [[24964,25174,27714,28424,1]]
vacuum_bathroom:
  alias: "Vacuum Bathroom"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: [[23790,17237,28140,21137,2]]
vacuum_bedroom:
  alias: "Vacuum Bedroom"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: [[28091,17501,32541,21201,1]]
vacuum_aurore_bedroom:
  alias: "Vacuum Aurore's Bedroom"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: [[28098,21247,30898,23797,1]]
vacuum_livingroom:
  alias: "Vacuum Living Room"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: [[27794,23764,32644,28264,1]]
vacuum_aurore_zone:
  alias: "Vacuum Aurore's zone"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.send_command
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        command: app_zoned_clean
        params: [[30749,24974,32449,28274,2]]
vacuum_dispatch:
  alias: "Vacuum Dispatch"
  sequence:
    - service: script.turn_on
      data_template:
        entity_id: >-
          {% set room_lower = room|lower %}
          {% if "cuisine" in room_lower %}
            {% if "salle à manger" in room_lower %}
              script.vacuum_kitchen_and_diningroom
            {% elif "salle a manger" in room_lower %}
              script.vacuum_kitchen_and_diningroom
              script.vacuum_kitchen_and_diningroom
            {% elif "table" in room_lower %}
              script.vacuum_kitchen_and_diningroom
            {% else %}
              script.vacuum_kitchen
            {% endif %}
          {% elif "kitchen" in room_lower %}
            {% if "diningroom" in room_lower %}
              script.vacuum_kitchen_and_diningroom
            {% elif "dining room" in room_lower %}
              script.vacuum_kitchen_and_diningroom
            {% elif "table" in room_lower %}
              script.vacuum_kitchen_and_diningroom
            {% else %}
              script.vacuum_kitchen
            {% endif %}
          {% elif "salle à manger" in room_lower %}
            vacuum_diningroom
          {% elif "salle a manger" in room_lower %}
            vacuum_diningroom
          {% elif "repas" in room_lower %}
            vacuum_diningroom
          {% elif "dining room" in room_lower %}
            vacuum_diningroom
          {% elif "diningroom" in room_lower %}
            vacuum_diningroom
          {% elif "table" in room_lower %}
            vacuum_diningroom
          {% elif "bain" in room_lower %}
            vacuum_bathroom
          {% elif "toilet" in room_lower %}
            vacuum_bathroom
          {% elif "bath" in room_lower %}
            vacuum_bathroom
          {% elif "chambre" in room_lower %}
            {% if "aurore" in room_lower %}
              vacuum_aurore_bedroom
            {% elif "enfant" in room_lower %}
              vacuum_aurore_bedroom
            {% elif "petite" in room_lower %}
              vacuum_aurore_bedroom
            {% else %}
              vacuum_bedroom
            {% endif %}
          {% elif "bedroom" in room_lower %}
            {% if "aurore" in room_lower %}
              vacuum_aurore_bedroom
            {% elif "kid" in room_lower %}
              vacuum_aurore_bedroom
            {% elif "small" in room_lower %}
              vacuum_aurore_bedroom
            {% else %}
              vacuum_bedroom
            {% endif %}
          {% elif "salon" in room_lower %}
            vacuum_livingroom
          {% elif "canapé" in room_lower %}
            vacuum_livingroom
          {% elif "living room" in room_lower %}
            vacuum_livingroom
          {% elif "livingroom" in room_lower %}
            vacuum_livingroom
          {% elif "aurore" in room_lower %}
            vacuum_aurore_zone
          {% endif %}
vacuum_reset_fan_speed_after_mopping:
  alias: "Reset vacuum's fan speed after mopping"
  sequence:
    - delay:
        minutes: 1
    - wait_template: "{{ is_state('vacuum.xiaomi_vacuum_cleaner', 'docked') }}"
    - service: vacuum.set_fan_speed
      data:
        fan_speed: Standard
        entity_id: vacuum.xiaomi_vacuum_cleaner
mop_bathroom:
  alias: "Mop Bathroom"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.set_fan_speed
      data:
        fan_speed: Gentle
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: script.turn_on
      data:
        entity_id: script.vacuum_bathroom
    - service: script.turm_on
      data:
        entity_id: script.vacuum_reset_fan_speed_after_mopping
mop_kitchen:
  alias: "Mop Kitchen"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.set_fan_speed
      data:
        fan_speed: Gentle
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: script.turn_on
      data:
        entity_id: script.vacuum_kitchen
    - service: script.turm_on
      data:
        entity_id: script.vacuum_reset_fan_speed_after_mopping
mop_diningroom:
  alias: "Mop Diningroom"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.set_fan_speed
      data:
        fan_speed: Gentle
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: script.turn_on
      data:
        entity_id: script.vacuum_diningroom
    - service: script.turm_on
      data:
        entity_id: script.vacuum_reset_fan_speed_after_mopping
mop_kitchen_and_dining_room:
  alias: "Mop Kitchen and dining room"
  sequence:
    - service: vacuum.stop
      data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: vacuum.set_fan_speed
      data:
        fan_speed: Gentle
        entity_id: vacuum.xiaomi_vacuum_cleaner
    - service: script.turn_on
      data:
        entity_id: script.vacuum_kitchen_and_diningroom
    - service: script.turm_on
      data:
        entity_id: script.vacuum_reset_fan_speed_after_mopping
living_room_color:
  alias: "Change Living room color"
  sequence:
    - service: scene.turn_on
      data_template:
        entity_id: >- 
          {% if is_state('input_select.living_room_color.state', 'None') %} 
            scene.LivingRoomOff
          {% elif is_state('input_select.living_room_color.state', 'White') %}
            scene.WhiteLivingRoom
          {% elif is_state('input_select.living_room_color.state', 'Pink') %}
            scene.PinkLivingRoom
          {% elif is_state('input_select.living_room_color.state', 'Purple') %}
            scene.PinkAndPurpleLivingRoom
          {% elif is_state('input_select.living_room_color.state', 'Blue') %}
            scene.BlueLivingRoom
          {% else %}
            scene.WhiteLivingRoom
          {% endif %}
switch_living_room_color:
  alias: "Switch between colors in the living room"
  sequence:
  - service: input_select.select_option
    entity_id: input_select.living_room_color
    data_template:
      option: >-
          {% if is_state('input_select.living_room_color.state', 'Pink') %}
            Purple
          {% elif is_state('input_select.living_room_color.state', 'Purple') %}
            Blue
          {% elif is_state('input_select.living_room_color.state', '"Blue') %}
            Pink
          {% else %}
            Purple
          {% endif %}
